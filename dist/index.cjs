"use strict";var Z=Object.defineProperty;var j=(e,a,s)=>a in e?Z(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s;var i=(e,a,s)=>(j(e,typeof a!="symbol"?a+"":a,s),s),T=(e,a,s)=>{if(!a.has(e))throw TypeError("Cannot "+s)};var b=(e,a,s)=>(T(e,a,"read from private field"),s?s.call(e):a.get(e)),R=(e,a,s)=>{if(a.has(e))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(e):a.set(e,s)},Y=(e,a,s,l)=>(T(e,a,"write to private field"),l?l.call(e,s):a.set(e,s),s);var O=(e,a,s)=>(T(e,a,"access private method"),s);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r=require("vue"),x=require("pinia");class J{constructor(a,s,l){i(this,"element");i(this,"cb");i(this,"settings");i(this,"subscribe",function(){this.element.addEventListener("wheel",this.listener)}.bind(this));i(this,"unsubscribe",function(){this.element.removeEventListener("wheel",this.listener)}.bind(this));i(this,"listener",function(a){typeof this.cb=="function"&&a.deltaY&&this.cb({dir:a.deltaY/Math.abs(a.deltaY),wheel:a.deltaY*this.settings.wheelIntensity})}.bind(this));this.element=a,this.cb=s,this.settings=l,this.subscribe()}}var S,I,D,M,k,B,H,K;class Q{constructor(a,s,l){R(this,D);R(this,k);R(this,H);R(this,S,{sY:0,eY:0});i(this,"prevY",0);R(this,I,void 0);i(this,"cb");i(this,"deltaY");i(this,"minDelta");i(this,"settings");i(this,"subscribe",function(){b(this,I).addEventListener("touchstart",O(this,D,M).bind(this),!1),b(this,I).addEventListener("touchmove",O(this,k,B).bind(this),!1),b(this,I).addEventListener("touchend",O(this,H,K).bind(this),!1)}.bind(this));i(this,"unsubscribe",function(){b(this,I).removeEventListener("touchstart",O(this,D,M),!1),b(this,I).removeEventListener("touchmove",O(this,k,B),!1),b(this,I).removeEventListener("touchend",O(this,H,K),!1)}.bind(this));this.cb=s,Y(this,I,a),this.subscribe(),this.settings=l,this.minDelta=l.minTouchmoveDistance,this.useCallback=this.useCallback.bind(this),this.unsubscribe=this.unsubscribe.bind(this)}useCallback(a){typeof this.cb=="function"&&a&&this.cb({dir:a/Math.abs(a),wheel:a*this.settings.touchmoveIntensity})}}S=new WeakMap,I=new WeakMap,D=new WeakSet,M=function(a){const s=a.touches[0];b(this,S).sY=s.screenY,this.prevY=b(this,S).sY,b(this,S).eY=b(this,S).sY},k=new WeakSet,B=function(a){const s=a.touches[0];this.prevY=b(this,S).eY,b(this,S).eY=s.screenY,this.deltaY=b(this,S).sY-b(this,S).eY;const l=b(this,S).sY-this.prevY;Math.abs(l)>Math.abs(this.deltaY)&&(b(this,S).sY=this.prevY),Math.abs(this.deltaY)>this.minDelta&&this.useCallback(this.deltaY)},H=new WeakSet,K=function(a){Math.abs(this.deltaY)>this.minDelta&&this.useCallback(this.deltaY)};class ee{constructor(a,s,l){i(this,"element");i(this,"callback");i(this,"settings");i(this,"subscribe",function(){this.element.addEventListener("keydown",this.listener)}.bind(this));i(this,"unsubscribe",function(){this.element.removeEventListener("keydown",this.listener)}.bind(this));i(this,"listener",function(a){if(!this.settings.enableScrollOnKeyboard||typeof this.callback!="function")return;const s=a.keyCode;this.settings.mode==="vertical"||this.settings.mode==="vertical-reverse"?(this.settings.scrollDownOnKeys.forEach(l=>{l.code===s&&this.callback({dir:1,wheel:l.distance})}),this.settings.scrollUpOnKeys.forEach(l=>{l.code===s&&this.callback({dir:-1,wheel:l.distance*-1})})):(this.settings.mode==="horizontal"||this.settings.mode==="horizontal-reverse")&&(this.settings.scrollRightOnKeys.forEach(l=>{l.code===s&&this.callback({dir:1,wheel:l.distance})}),this.settings.scrollLeftOnKeys.forEach(l=>{l.code===s&&this.callback({dir:-1,wheel:l.distance*-1})}))}.bind(this));this.element=a,this.callback=s,this.settings=l,this.subscribe()}}class oe{constructor(a,s){i(this,"element");i(this,"pressed",{});i(this,"onKeys");i(this,"subscribe",function(){this.element.addEventListener("keydown",this.keydown),this.element.addEventListener("keyup",this.keyup)}.bind(this));i(this,"unsubscribe",function(){this.element.removeEventListener("keydown",this.keydown),this.element.removeEventListener("keyup",this.keyup)}.bind(this));i(this,"isHold",function(a){return!!this.pressed[a]}.bind(this));i(this,"keydown",function(a){const s=a.keyCode;this.pressed[s]||(this.pressed[s]=!0),this.onKeys()}.bind(this));i(this,"keyup",function(a){const s=a.keyCode;this.pressed[s]&&(this.pressed[s]=!1),this.onKeys()}.bind(this));this.element=a,this.onKeys=s,this.subscribe()}isHolding(){}}var N=(e=>(e.MS_EDGE="MS_EDGE",e.EDGE_CHROMIUM_BASED="EDGE_CHROMIUM_BASED",e.OPERA="OPERA",e.CHROME="CHROME",e.MS_IE="MS_IE",e.MOZILLA_FIREFOX="MOZILLA_FIREFOX",e.SAFARI="SAFARI",e.OTHER="OTHER",e))(N||{});const ae=()=>{const e=window.navigator.userAgent.toLowerCase();switch(!0){case e.indexOf("edge")>-1:return"MS_EDGE";case e.indexOf("edg/")>-1:return"EDGE_CHROMIUM_BASED";case(e.indexOf("opr")>-1&&!!window.opr):return"OPERA";case(e.indexOf("chrome")>-1&&!!window.chrome):return"CHROME";case e.indexOf("trident")>-1:return"MS_IE";case e.indexOf("firefox")>-1:return"MOZILLA_FIREFOX";case e.indexOf("safari")>-1:return"SAFARI";default:return"OTHER"}};class le{constructor(a,s,l,t){i(this,"swipe");i(this,"scroll");i(this,"keyboard");i(this,"shotcuts");i(this,"isSubscribed",!1);i(this,"settings");i(this,"callback");i(this,"subscribe",function(){this.isSubscribed=!0,this.scroll.subscribe(),this.swipe.subscribe(),this.keyboard.subscribe()}.bind(this));i(this,"unsubscribe",function(){this.isSubscribed=!1,this.scroll.unsubscribe(),this.swipe.unsubscribe(),this.keyboard.unsubscribe()}.bind(this));i(this,"destroy",function(){this.scroll.unsubscribe(),this.swipe.unsubscribe(),this.keyboard.unsubscribe(),this.shotcuts.unsubscribe()}.bind(this));const h={wheelIntensity:l.wheelIntensity,touchmoveIntensity:l.touchmoveIntensity,minTouchmoveDistance:l.minTouchmoveDistance,safariWheelIntensity:l.safariWheelIntensity,safariTouchmoveIntensity:l.safariTouchmoveIntensity,chromeWheelIntensity:l.chromeWheelIntensity,chromeTouchmoveIntensity:l.chromeTouchmoveIntensity,operaWheelIntensity:l.operaWheelIntensity,operaTouchmoveIntensity:l.operaTouchmoveIntensity,edgeWheelIntensity:l.edgeWheelIntensity,edgeTouchmoveIntensity:l.edgeTouchmoveIntensity,mozillaWheelIntensity:l.mozillaWheelIntensity,mozillaTouchmoveIntensity:l.mozillaTouchmoveIntensity},f={wheelIntensity:o("WheelIntensity"),touchmoveIntensity:o("TouchmoveIntensity"),minTouchmoveDistance:h.minTouchmoveDistance};function o(u){switch(t){case N.SAFARI:return h[`safari${u}`];case N.CHROME:return h[`chrome${u}`];case N.OPERA:return h[`opera${u}`];case(N.MS_EDGE||N.EDGE_CHROMIUM_BASED):return h[`edge${u}`];case N.MOZILLA_FIREFOX:return h[`mozilla${u}`];default:return u==="WheelIntensity"?h.wheelIntensity:h.touchmoveIntensity}}const y={mode:l.mode,enableScrollOnKeyboard:l.enableScrollOnKeyboard,scrollDownOnKeys:l.scrollDownOnKeys,scrollUpOnKeys:l.scrollUpOnKeys,scrollLeftOnKeys:l.scrollLeftOnKeys,scrollRightOnKeys:l.scrollRightOnKeys};this.callback=s,this.settings=l,this.scroll=new J(a,this.controlScroll.bind(this),f),this.swipe=new Q(a,this.controlScroll.bind(this),f),this.keyboard=new ee(a,this.controlScroll.bind(this),y),this.shotcuts=new oe(a,this.onKeysHold.bind(this))}controlScroll(a){this.callback&&this.callback(a)}onKeysHold(){var s;let a=!1;(s=this.settings.preventScrollOnHoldKeys)==null||s.forEach(l=>{let t=0;l.code.forEach(h=>{this.shotcuts.isHold(h)&&t++}),t===l.code.length&&(this.unsubscribe(),a=!0)}),!a&&!this.isSubscribed&&this.subscribe()}}const te=(e,a=0)=>{const s=r.ref(!0),l=r.ref(performance.now());r.onMounted(()=>t(0)),r.onUnmounted(()=>s.value=!1);function t(h){s.value&&(h-l.value>a&&(e(),l.value=performance.now()),requestAnimationFrame(t))}},se=(e,a,s)=>a===0&&e<.1?0:e+(a-e)*s;var W=(e=>(e.DESKTOP="DESKTOP",e.TABLET="TABLET",e.MOBILE="MOBILE",e))(W||{});function re(){const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"TABLET":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"MOBILE":"DESKTOP"}const A=x.defineStore("privateSmoothPage",()=>{const e=r.ref(null),a=r.ref(0),s=r.ref(0),l=r.ref(!1),t=r.ref(!1),h=r.ref(!1),f=r.ref(!1),o=r.ref(!1),y=r.ref(W.DESKTOP),u=r.ref(N.OTHER),v=r.ref(!1),C=r.ref(!1),w=r.ref(!1),p=r.ref(0),P=d=>{e.value=d},m=d=>{a.value=d},c=d=>{t.value=d},E=d=>{s.value=d},L=d=>{l.value=d},F=d=>{h.value=d},$=d=>{o.value=d},g=d=>{f.value=d},q=d=>{y.value=d},G=d=>{u.value=d},_=d=>{C.value=d},V=d=>{v.value=d},X=d=>{w.value=d},z=d=>{p.value=d};return{settings:e,currentScrollPosition:a,isEnabled:t,nextScrollPosition:s,isTriggeringScrollPosition:l,isMounted:h,isInited:o,isEarlierMounted:f,deviceType:y,needReload:C,isDestroyedByUser:v,browser:u,isPreventScroll:w,savedCurrentScrollPositionForDestroy:p,setSettings:P,setCurrentScrollPosition:m,setIsEnabled:c,setNextScrollPosition:E,setIsTriggeringScrollPosition:L,setIsMounted:F,setIsInited:$,setIsEarlierMounted:g,setDeviceType:q,setNeedReload:_,setBrowser:G,preventScroll:X,setSavedCurrentScrollPositionForDestroy:z,reload:(d=!1)=>{_(!0),d&&(m(0),E(0),z(0))},destroy:(d=!1)=>{V(!0),d&&(m(0),E(0),z(0))},init:(d=!1)=>{V(!1),d&&(m(0),E(0),z(0))}}});class ne{constructor(a,s,l){i(this,"track");i(this,"thumb");i(this,"onScroll");i(this,"dragStart",0);i(this,"mouseDownHandler",function(a){if(!this.thumb||!this.track)return;const s=document.querySelector("html");if(!s)return;s.style.userSelect="none",s.style.pointerEvents="none",s.style.cursor="grabbing",this.thumb.getBoundingClientRect().top;const l=this.track.getBoundingClientRect().top;this.dragStart=a.clientY-l,document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseup",this.mouseUpHandler,{once:!0})}.bind(this));i(this,"mouseUpHandler",function(){if(!this.thumb)return;const a=document.querySelector("html");a&&(a.style.removeProperty("user-select"),a.style.removeProperty("pointer-events"),a.style.removeProperty("cursor"),document.removeEventListener("mousemove",this.mouseMoveHandler))}.bind(this));i(this,"mouseMoveHandler",function(a){if(!this.thumb||!this.track||typeof this.onScroll!="function")return;const l=(a.clientY-this.track.getBoundingClientRect().top-this.dragStart)*100/this.thumb.getBoundingClientRect().height,t=Math.abs(l)/l;console.log(l,t),this.onScroll({dir:t,wheel:l}),this.thumb.getBoundingClientRect().top;const h=this;setTimeout(()=>{const f=h.track.getBoundingClientRect().top;this.dragStart=a.clientY-f},95)}.bind(this));this.track=a.value,this.thumb=s.value,this.onScroll=l,!(!this.thumb||!this.track)&&this.thumb.addEventListener("mousedown",this.mouseDownHandler)}destroy(){this.thumb&&this.thumb.removeEventListener("mousedown",this.mouseDownHandler)}}const ie=(e,a,s)=>{const l=r.ref(null);r.onMounted(()=>{l.value=new ne(e,a,s)}),r.onUnmounted(()=>{var t;(t=l.value)==null||t.destroy()})},ce=r.defineComponent({__name:"index",props:{settings:null,store:null,onScroll:{type:Function}},setup(e){const{settings:a,store:s,onScroll:l}=e,t=r.ref(null),h=r.ref(null),f=r.ref(0);return ie(h,t,l),r.watchEffect(()=>{var v;if(!t.value||!h.value||!s.isEnabled&&!a.enableScrollbarWhileSmoothpageDisabled)return;const o=(v=document.getElementById("smoothpageBody"))==null?void 0:v.getBoundingClientRect().height;if(!o)return;const y=h.value.getBoundingClientRect().height,u=t.value.getBoundingClientRect().height;f.value=Number(s.currentScrollPosition)/(o-y)*(y-u)}),(o,y)=>{var u,v,C;return r.openBlock(),r.createElementBlock("div",{style:r.normalizeStyle({width:`${(u=e.settings.scrollbarSettings)==null?void 0:u.trackWidth}`}),class:"t-smoothscrollbar"},[r.createElementVNode("div",{ref_key:"track",ref:h,class:"t-smoothscrollbar--track"},[r.createElementVNode("div",{ref_key:"thumb",ref:t,style:r.normalizeStyle({width:(v=e.settings.scrollbarSettings)==null?void 0:v.thumbWidth,height:(C=e.settings.scrollbarSettings)==null?void 0:C.thumbHeight,transform:`translateY(${f.value}px)`}),class:"t-smoothscrollbar--thumb"},null,4)],512)],4)}}});const de=e=>{var a,s,l,t,h,f,o,y,u,v,C,w,p,P,m,c,E,L;return{mode:(e==null?void 0:e.mode)||n.mode,smoothness:(e==null?void 0:e.smoothness)||n.smoothness,wheelIntensity:(e==null?void 0:e.wheelIntensity)||n.wheelIntensity,touchmoveIntensity:(e==null?void 0:e.touchmoveIntensity)||n.touchmoveIntensity,safariWheelIntensity:(e==null?void 0:e.safariWheelIntensity)||(e==null?void 0:e.wheelIntensity)||n.wheelIntensity,safariTouchmoveIntensity:(e==null?void 0:e.safariTouchmoveIntensity)||(e==null?void 0:e.touchmoveIntensity)||n.wheelIntensity,chromeWheelIntensity:(e==null?void 0:e.chromeWheelIntensity)||(e==null?void 0:e.wheelIntensity)||n.wheelIntensity,chromeTouchmoveIntensity:(e==null?void 0:e.chromeTouchmoveIntensity)||(e==null?void 0:e.touchmoveIntensity)||n.wheelIntensity,operaWheelIntensity:(e==null?void 0:e.operaWheelIntensity)||(e==null?void 0:e.wheelIntensity)||n.wheelIntensity,operaTouchmoveIntensity:(e==null?void 0:e.operaTouchmoveIntensity)||(e==null?void 0:e.touchmoveIntensity)||n.wheelIntensity,edgeWheelIntensity:(e==null?void 0:e.edgeWheelIntensity)||(e==null?void 0:e.wheelIntensity)||n.wheelIntensity,edgeTouchmoveIntensity:(e==null?void 0:e.edgeTouchmoveIntensity)||(e==null?void 0:e.touchmoveIntensity)||n.wheelIntensity,mozillaWheelIntensity:(e==null?void 0:e.mozillaWheelIntensity)||(e==null?void 0:e.wheelIntensity)||n.wheelIntensity,mozillaTouchmoveIntensity:(e==null?void 0:e.mozillaTouchmoveIntensity)||(e==null?void 0:e.touchmoveIntensity)||n.wheelIntensity,watchIsEnabledOn:(e==null?void 0:e.watchIsEnabledOn)||n.watchIsEnabledOn,minTouchmoveDistance:(e==null?void 0:e.minTouchmoveDistance)||n.minTouchmoveDistance,minWidth:(e==null?void 0:e.minWidth)||n.minWidth,renderDelay:(e==null?void 0:e.renderDelay)||n.renderDelay,enableOnTouchDevices:(e==null?void 0:e.enableOnTouchDevices)||n.enableOnTouchDevices,resetScrollPositionOnStateChanging:(e==null?void 0:e.resetScrollPositionOnStateChanging)||n.resetScrollPositionOnStateChanging,reloadPageOnStateChanging:(e==null?void 0:e.reloadPageOnStateChanging)||n.reloadPageOnStateChanging,enableScrollOnKeyboard:(e==null?void 0:e.enableScrollOnKeyboard)||n.enableScrollOnKeyboard,scrollDownOnKeys:(e==null?void 0:e.scrollDownOnKeys)||n.scrollDownOnKeys,scrollUpOnKeys:(e==null?void 0:e.scrollUpOnKeys)||n.scrollUpOnKeys,scrollRightOnKeys:(e==null?void 0:e.scrollRightOnKeys)||n.scrollRightOnKeys,scrollLeftOnKeys:(e==null?void 0:e.scrollLeftOnKeys)||n.scrollLeftOnKeys,preventScrollOnHoldKeys:(e==null?void 0:e.preventScrollOnHoldKeys)||n.preventScrollOnHoldKeys,enableScrollbar:(e==null?void 0:e.enableScrollbar)||n.enableScrollbar,enableScrollbarWhileSmoothpageDisabled:(e==null?void 0:e.enableScrollbarWhileSmoothpageDisabled)||n.enableScrollbarWhileSmoothpageDisabled,scrollbarComponent:(e==null?void 0:e.scrollbarComponent)||n.scrollbarComponent,scrollbarSettings:(e==null?void 0:e.scrollbarSettings)||n.scrollbarSettings,defaultClassNames:{smoothPage:((a=e==null?void 0:e.defaultClassNames)==null?void 0:a.smoothPage)||n.defaultClassNames.smoothPage,smoothPageBody:((s=e==null?void 0:e.defaultClassNames)==null?void 0:s.smoothPageBody)||n.defaultClassNames.smoothPageBody,smoothPageBodyPosition:((l=e==null?void 0:e.defaultClassNames)==null?void 0:l.smoothPageBodyPosition)||n.defaultClassNames.smoothPageBodyPosition,smoothPageEnabled:((t=e==null?void 0:e.defaultClassNames)==null?void 0:t.smoothPageEnabled)||n.defaultClassNames.smoothPageEnabled,smoothPageVertical:((h=e==null?void 0:e.defaultClassNames)==null?void 0:h.smoothPageVertical)||n.defaultClassNames.smoothPageVertical,smoothPageVerticalReverse:((f=e==null?void 0:e.defaultClassNames)==null?void 0:f.smoothPageVerticalReverse)||n.defaultClassNames.smoothPageVerticalReverse,smoothPageHorizontal:((o=e==null?void 0:e.defaultClassNames)==null?void 0:o.smoothPageHorizontal)||n.defaultClassNames.smoothPageHorizontal,smoothPageHorizontalReverse:((y=e==null?void 0:e.defaultClassNames)==null?void 0:y.smoothPageHorizontalReverse)||n.defaultClassNames.smoothPageHorizontalReverse,scrollbarEnabled:((u=e==null?void 0:e.defaultClassNames)==null?void 0:u.scrollbarEnabled)||n.defaultClassNames.scrollbarEnabled},additionalClassNames:{smoothPage:((v=e==null?void 0:e.additionalClassNames)==null?void 0:v.smoothPage)||n.additionalClassNames.smoothPage,smoothPageBody:((C=e==null?void 0:e.additionalClassNames)==null?void 0:C.smoothPageBody)||n.additionalClassNames.smoothPageBody,smoothPageBodyPosition:((w=e==null?void 0:e.additionalClassNames)==null?void 0:w.smoothPageBodyPosition)||n.additionalClassNames.smoothPageBodyPosition,smoothPageEnabled:((p=e==null?void 0:e.additionalClassNames)==null?void 0:p.smoothPageEnabled)||n.additionalClassNames.smoothPageEnabled,smoothPageVertical:((P=e==null?void 0:e.additionalClassNames)==null?void 0:P.smoothPageVertical)||n.additionalClassNames.smoothPageVertical,smoothPageVerticalReverse:((m=e==null?void 0:e.additionalClassNames)==null?void 0:m.smoothPageVerticalReverse)||n.additionalClassNames.smoothPageVerticalReverse,smoothPageHorizontal:((c=e==null?void 0:e.additionalClassNames)==null?void 0:c.smoothPageHorizontal)||n.additionalClassNames.smoothPageHorizontal,smoothPageHorizontalReverse:((E=e==null?void 0:e.additionalClassNames)==null?void 0:E.smoothPageHorizontalReverse)||n.additionalClassNames.smoothPageHorizontalReverse,scrollbarEnabled:((L=e==null?void 0:e.additionalClassNames)==null?void 0:L.scrollbarEnabled)||n.additionalClassNames.scrollbarEnabled}}},n={mode:"vertical",smoothness:.075,wheelIntensity:4,touchmoveIntensity:4,minTouchmoveDistance:40,watchIsEnabledOn:"load-resize",minWidth:0,renderDelay:0,enableOnTouchDevices:!0,resetScrollPositionOnStateChanging:!1,reloadPageOnStateChanging:!1,enableScrollOnKeyboard:!0,scrollUpOnKeys:[{code:38,distance:100}],scrollDownOnKeys:[{code:40,distance:100},{code:32,distance:200}],scrollLeftOnKeys:[{code:38,distance:100},{code:37,distance:100}],scrollRightOnKeys:[{code:40,distance:100},{code:39,distance:100},{code:32,distance:200}],preventScrollOnHoldKeys:[{code:[16]}],enableScrollbar:!0,enableScrollbarWhileSmoothpageDisabled:!1,scrollbarComponent:ce,scrollbarSettings:{trackWidth:"12px",thumbHeight:"100px",thumbWidth:"12px"},defaultClassNames:{smoothPage:"t-smoothpage",smoothPageBody:"t-smoothpage--body",smoothPageBodyPosition:"t-smoothpage--body-position",smoothPageEnabled:"t-smoothpage--enabled",smoothPageVertical:"t-smoothpage--vertical",smoothPageVerticalReverse:"t-smoothpage--vertical-reverse",smoothPageHorizontal:"t-smoothpage--horizontal",smoothPageHorizontalReverse:"t-smoothpage--horizontal-reverse",scrollbarEnabled:"t-smoothscrollbar--enabled"},additionalClassNames:{smoothPage:"",smoothPageBody:"",smoothPageBodyPosition:"",smoothPageEnabled:"",smoothPageVertical:"",smoothPageVerticalReverse:"",smoothPageHorizontal:"",smoothPageHorizontalReverse:"",scrollbarEnabled:""}},U=r.defineComponent({__name:"index",props:{settings:null},setup(e){const a=e,s=r.ref(null),l=r.ref(null),t=A(),h=r.inject("smoothPageSettings",void 0),o={...de(h),...(a==null?void 0:a.settings)||{}};r.watchEffect(()=>{t.setSettings(o)}),r.onMounted(()=>{var m,c;t.setSettings(o),t.setDeviceType(re()),t.setIsEnabled(p()),t.setBrowser(ae()),t.setIsMounted(!0),setTimeout(()=>t.setIsEarlierMounted(!0),100),o.enableScrollbar&&o.enableScrollbarWhileSmoothpageDisabled&&(o.defaultClassNames.scrollbarEnabled&&((m=document.querySelector("html"))==null||m.classList.add(o.defaultClassNames.scrollbarEnabled)),o.additionalClassNames.scrollbarEnabled&&((c=document.querySelector("html"))==null||c.classList.add(o.additionalClassNames.scrollbarEnabled)))}),r.onUnmounted(()=>{t.setIsMounted(!1)}),r.watchEffect(()=>{t.isEnabled&&!t.isInited?y():!t.isEnabled&&t.isInited&&u()});function y(){var m,c;t.setIsInited(!0),t.setNeedReload(!1),v(!0),o.enableScrollbar&&(o.defaultClassNames.scrollbarEnabled&&((m=document.querySelector("html"))==null||m.classList.add(o.defaultClassNames.scrollbarEnabled)),o.additionalClassNames.scrollbarEnabled&&((c=document.querySelector("html"))==null||c.classList.add(o.additionalClassNames.scrollbarEnabled))),s.value=new le(document,C,o,t.browser),o.resetScrollPositionOnStateChanging&&(t.setCurrentScrollPosition(0),t.setNextScrollPosition(0),window.scroll(0,0)),o.reloadPageOnStateChanging&&t.isEarlierMounted&&setTimeout(()=>location.reload(),100)}function u(){var m,c,E;t.setIsInited(!1),v(!1),o.enableScrollbarWhileSmoothpageDisabled||(o.defaultClassNames.scrollbarEnabled&&((m=document.querySelector("html"))==null||m.classList.remove(o.defaultClassNames.scrollbarEnabled)),o.additionalClassNames.scrollbarEnabled&&((c=document.querySelector("html"))==null||c.classList.remove(o.additionalClassNames.scrollbarEnabled))),(E=s.value)==null||E.destroy(),console.log(o.resetScrollPositionOnStateChanging),o.resetScrollPositionOnStateChanging?(t.setCurrentScrollPosition(0),t.setNextScrollPosition(0),window.scroll(0,0)):window.scroll(0,t.savedCurrentScrollPositionForDestroy),o.reloadPageOnStateChanging&&t.isEarlierMounted&&setTimeout(()=>location.reload(),100)}function v(m){const c=document.querySelector("html");if(c){if(m){o.defaultClassNames.smoothPageEnabled&&c.classList.add(o.defaultClassNames.smoothPageEnabled),o.additionalClassNames.smoothPageEnabled&&c.classList.add(o.additionalClassNames.smoothPageEnabled),o.mode==="vertical"?(o.defaultClassNames.smoothPageVertical&&c.classList.add(o.defaultClassNames.smoothPageVertical),o.additionalClassNames.smoothPageVertical&&c.classList.add(o.additionalClassNames.smoothPageVertical)):o.mode==="vertical-reverse"?(o.defaultClassNames.smoothPageVerticalReverse&&c.classList.add(o.defaultClassNames.smoothPageVerticalReverse),o.additionalClassNames.smoothPageVerticalReverse&&c.classList.add(o.additionalClassNames.smoothPageVerticalReverse)):o.mode==="horizontal"?(o.defaultClassNames.smoothPageHorizontal&&c.classList.add(o.defaultClassNames.smoothPageHorizontal),o.additionalClassNames.smoothPageHorizontal&&c.classList.add(o.additionalClassNames.smoothPageHorizontal)):o.mode==="horizontal-reverse"&&(o.defaultClassNames.smoothPageHorizontalReverse&&c.classList.add(o.defaultClassNames.smoothPageHorizontalReverse),o.additionalClassNames.smoothPageHorizontalReverse&&c.classList.add(o.additionalClassNames.smoothPageHorizontalReverse));return}o.defaultClassNames.smoothPageEnabled&&c.classList.remove(o.defaultClassNames.smoothPageEnabled),o.additionalClassNames.smoothPageEnabled&&c.classList.remove(o.additionalClassNames.smoothPageEnabled),o.mode==="vertical"?(o.defaultClassNames.smoothPageVertical&&c.classList.remove(o.defaultClassNames.smoothPageVertical),o.additionalClassNames.smoothPageVertical&&c.classList.remove(o.additionalClassNames.smoothPageVertical)):o.mode==="vertical-reverse"?(o.defaultClassNames.smoothPageVerticalReverse&&c.classList.remove(o.defaultClassNames.smoothPageVerticalReverse),o.additionalClassNames.smoothPageVerticalReverse&&c.classList.remove(o.additionalClassNames.smoothPageVerticalReverse)):o.mode==="horizontal"?(o.defaultClassNames.smoothPageHorizontal&&c.classList.remove(o.defaultClassNames.smoothPageHorizontal),o.additionalClassNames.smoothPageHorizontal&&c.classList.remove(o.additionalClassNames.smoothPageHorizontal)):o.mode==="horizontal-reverse"&&(o.defaultClassNames.smoothPageHorizontalReverse&&c.classList.remove(o.defaultClassNames.smoothPageHorizontalReverse),o.additionalClassNames.smoothPageHorizontalReverse&&c.classList.remove(o.additionalClassNames.smoothPageHorizontalReverse))}}r.watchEffect(()=>{t.needReload&&u()});function C(m){if(t.isPreventScroll)return;const c=w();c&&(t.isEnabled?t.setNextScrollPosition(Math.max(0,Math.min(t.currentScrollPosition+m.wheel,c))):window.scrollTo({top:window.scrollY+m.wheel}))}function w(){if(!l.value)return 0;const m=l.value.getBoundingClientRect().height-window.innerHeight,c=l.value.getBoundingClientRect().width-window.innerWidth;return o.mode==="vertical"||o.mode==="vertical-reverse"?m:o.mode==="horizontal"||o.mode==="horizontal-reverse"?c:0}te(()=>{t.isPreventScroll||t.isMounted&&(t.isTriggeringScrollPosition||(o.watchIsEnabledOn==="load-resize"&&t.setIsEnabled(p()),t.isEnabled?(t.setCurrentScrollPosition(se(t.currentScrollPosition,t.nextScrollPosition,o.smoothness)),t.setSavedCurrentScrollPositionForDestroy(t.currentScrollPosition)):(t.setCurrentScrollPosition(window.scrollY),t.setNextScrollPosition(window.scrollY))))},o.renderDelay);function p(){return t.isDestroyedByUser?!1:(o.enableOnTouchDevices||t.deviceType===W.DESKTOP)&&window.innerWidth>=o.minWidth}const P=r.computed(()=>{if(t.isEnabled){if(o.mode==="vertical")return{transform:`translate3d(0, ${-t.currentScrollPosition}px, 0)`};if(o.mode==="vertical-reverse")return{transform:`translate3d(0, ${t.currentScrollPosition}px, 0)`};if(o.mode==="horizontal")return{transform:`translate3d(${-t.currentScrollPosition}px, 0, 0)`};if(o.mode==="horizontal-reverse")return{transform:`translate3d(${t.currentScrollPosition}px, 0, 0)`}}return{}});return(m,c)=>(r.openBlock(),r.createElementBlock("div",{class:r.normalizeClass([o.defaultClassNames.smoothPage,o.additionalClassNames.smoothPage])},[r.createElementVNode("div",{id:"smoothpageBody",ref_key:"smoothpageBodyRef",ref:l,style:r.normalizeStyle(r.unref(P)),class:r.normalizeClass([o.defaultClassNames.smoothPageBody,o.additionalClassNames.smoothPageBody])},[r.createElementVNode("div",{class:r.normalizeClass([o.defaultClassNames.smoothPageBodyPosition,o.additionalClassNames.smoothPageBodyPosition])},[r.renderSlot(m.$slots,"default")],2)],6),(o.enableScrollbarWhileSmoothpageDisabled||r.unref(t).isEnabled)&&o.enableScrollbar&&o.scrollbarComponent?(r.openBlock(),r.createBlock(o.scrollbarComponent,{key:0,settings:o,store:r.unref(t),onScroll:C},null,8,["store"])):r.createCommentVNode("",!0)],2))}});const he=x.defineStore("publicSmoothPage",()=>{const e=A(),a=r.computed(()=>e.settings),s=r.computed(()=>e.currentScrollPosition),l=r.computed(()=>e.isEnabled),t=r.computed(()=>e.isTriggeringScrollPosition),h=r.computed(()=>e.isMounted),f=r.computed(()=>e.isInited),o=r.computed(()=>e.deviceType),y=r.computed(()=>e.browser),u=r.computed(()=>e.isPreventScroll);return{settings:a,currentScrollPosition:s,isEnabled:l,isTriggeringScrollPosition:t,isMounted:h,isInited:f,deviceType:o,browser:y,isPreventScroll:u,preventScroll:P=>e.preventScroll(P),reload:(P=!1)=>e.reload(P),destroy:(P=!1)=>e.destroy(P),init:(P=!1)=>e.init(P)}}),me={install(e,a){e.component("SmoothPage",U),e.provide("smoothPageSettings",a||{})}};exports.SmoothPage=U;exports.default=me;exports.useSmoothPage=he;
